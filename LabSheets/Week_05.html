<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title></title>
  <style type="text/css">
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; background-color: #f8f8f8; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
pre, code { background-color: #f8f8f8; }
code > span.kw { color: #204a87; font-weight: bold; }
code > span.dt { color: #204a87; }
code > span.dv { color: #0000cf; }
code > span.bn { color: #0000cf; }
code > span.fl { color: #0000cf; }
code > span.ch { color: #4e9a06; }
code > span.st { color: #4e9a06; }
code > span.co { color: #8f5902; font-style: italic; }
code > span.ot { color: #8f5902; }
code > span.al { color: #ef2929; }
code > span.fu { color: #000000; }
code > span.er { font-weight: bold; }
  </style>
  <script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>
</head>
<body>
<h1 id="week-5---object-orientated-programming">Week 5 - Object Orientated Programming</h1>
<p>This lab sheet will introduce a very important concept of computer science: object orientated programming. After this session you will be familiar with the following concepts:</p>
<ul>
<li>Classes;</li>
<li>Attributes;</li>
<li>Methods;</li>
<li>Inheritance.</li>
</ul>
<p>A YouTube playlist with all the videos for this lab sheet can be found <a href="http://www.youtube.com/playlist?list=PLnC5h3PY-znwesme9fiK-kZZ-DUOJF9l_">here</a>.</p>
<h2 id="classes">Classes</h2>
<ol style="list-style-type: decimal">
<li><p><strong>TICKABLE</strong> The main idea behind object orientated programming (OOP) is to create abstract structures that allow us to not worry about data. Alan Kay came up with the concept and is quoted as saying: 'I wanted to get rid of data'. Instead of keeping track of variables using lists and arrays and writing specific functions for each operation we could be trying to do we use a system similar to the cellular structure in biology:</p>
<div class="figure">
<img src="./Images/W05-img01.png" alt="" /><p class="caption"></p>
</div>
<p>The following image shows the various ideas that we will work through in this lab sheet (keep it in mind as we go through things).</p>
<div class="figure">
<img src="./Images/W05-img02.png" alt="" /><p class="caption"></p>
</div>
<p>Here we will see how to create our own <strong>class</strong> (a type of object). The following code creates a class called <code>Student</code>:</p>
<pre class="sourceCode python"><code class="sourceCode python"><span class="kw">class</span> Student()
    <span class="kw">pass</span></code></pre>
<p>The <code>pass</code> command is just a line of code to say that this class does not actually do anything (we'll see much more exciting things soon). <strong>Importantly</strong>, this does not create an actual object. To create an <strong>instance</strong> of a class we assign it to a variable name:</p>
<pre class="sourceCode python"><code class="sourceCode python">vince = Student()</code></pre>
<p>To view the object try the following:</p>
<pre class="sourceCode python"><code class="sourceCode python"><span class="kw">print</span> vince</code></pre>
<p>Create another instance of the Student object and view it.</p>
<p><strong>Note the convention used here: classes use a capitalized name.</strong></p>
<p><a href="http://youtu.be/fTV7B6YTHCU">Video hint</a></p></li>
<li><p>We have already used various types of python objects:</p>
<ul>
<li>Lists;</li>
<li>Dictionaries;</li>
<li>Integers;</li>
<li>Strings...</li>
</ul>
<p>When we have converted a numeric variable to a string:</p>
<pre class="sourceCode python"><code class="sourceCode python">a = <span class="dv">25</span>
a = <span class="dt">str</span>(a)</code></pre>
<p>We have in fact created a new object of the string class and assigned that to the variable <code>a</code>.</p></li>
</ol>
<h2 id="attributes">Attributes</h2>
<ol start="3" style="list-style-type: decimal">
<li><p>So far we have done nothing interesting. We now see how to make our objects 'hold' information. The following code re-creates our previous student class but gives the class some 'attributes':</p>
<pre class="sourceCode python"><code class="sourceCode python"><span class="kw">class</span> Student():
    courses = [<span class="st">&quot;Biology&quot;</span>, <span class="st">&quot;Mathematics&quot;</span>, <span class="st">&quot;English&quot;</span>]
    age = <span class="dv">12</span>
    sex = <span class="st">&#39;Male&#39;</span></code></pre>
<p>If we now assign the variable <code>vince</code> to an instance of Student we can access these attributes as follows:</p>
<pre class="sourceCode python"><code class="sourceCode python">vince = Student()
<span class="kw">print</span> vince.courses
<span class="kw">print</span> vince.age
<span class="kw">print</span> vince.sex</code></pre>
<p>We can then modify these attributes like any other python object:</p>
<pre class="sourceCode python"><code class="sourceCode python">vince.courses.append(<span class="st">&quot;French&quot;</span>)
<span class="kw">print</span> vince.courses

vince.age = <span class="dv">28</span>
<span class="kw">print</span> vince.age

vince.sex = <span class="st">&quot;M&quot;</span>
<span class="kw">print</span> vince.sex</code></pre>
<p><a href="http://youtu.be/I_fbk5Uss-Q">Video hint</a></p></li>
<li><p><strong>TICKABLE</strong> A quadratic is a mathematical expression of the form: \(a x ^ 2 + b x + c\). The following code creates a Quadratic class:</p>
<pre class="sourceCode python"><code class="sourceCode python"><span class="kw">class</span> Quadratic()
    a = <span class="dv">0</span>
    b = <span class="dv">0</span>
    c = <span class="dv">0</span></code></pre>
<p>The file <a href="./Data/W05_D01.csv">W05_D01.csv</a> contains triplets of coefficients. Create instances of the Quadratic class with the corresponding coefficients and put them all in to a list:</p>
<<<<<<< HEAD
<pre class="sourceCode python"><code class="sourceCode python">listofquadratics = []</code></pre></li>
=======
<pre class="sourceCode python"><code class="sourceCode python">listofquadratics = []</code></pre>
<p><a href="http://www.youtube.com/watch?v=2pPih4SawM8&amp;feature=youtu.be">Video hint</a></p></li>
>>>>>>> master
</ol>
<h2 id="methods">Methods</h2>
<ol start="5" style="list-style-type: decimal">
<li><p><strong>TICKABLE</strong> We have seen methods before. For example for a given list <code>l = [1, 3, 2, 1.2]</code>, there exists a <code>sort</code> method that 'does some work to l' so that <code>l</code> becomes: <code>[1, 1.2, 2, 3]</code>. It is very easy to create custom methods for any class. We simply need to define functions <em>within</em> our class.</p>
<p>Let us revisit the Student class but we now include a method <code>haveabirthday</code> which increments the age:</p>
<pre class="sourceCode python"><code class="sourceCode python"><span class="kw">class</span> Student()
    courses = [<span class="st">&quot;Biology&quot;</span>, <span class="st">&quot;Mathematics&quot;</span>, <span class="st">&quot;English&quot;</span>]
    age = <span class="dv">12</span>
    sex = <span class="st">&#39;Male&#39;</span>

    <span class="kw">def</span> haveabirthday(<span class="ot">self</span>):
        <span class="ot">self</span>.age += <span class="dv">1</span></code></pre>
<p><strong>All method definitions require <code>self</code> as an argument which simply implies that the method works on the particular instance in question.</strong> We do not need to pass an argument to methods for the self argument (we can in essence ignore it when calling the method).</p>
<p>Let us see how this works:</p>
<pre class="sourceCode python"><code class="sourceCode python">vince = Student()
<span class="kw">print</span> vince.age
vince.haveabirthday()
<span class="kw">print</span> vince.age</code></pre>
<p>We can include other arguments in a method definition (just like for a normal python function):</p>
<pre class="sourceCode python"><code class="sourceCode python"><span class="kw">class</span> Student()
    courses = [<span class="st">&quot;Biology&quot;</span>, <span class="st">&quot;Mathematics&quot;</span>, <span class="st">&quot;English&quot;</span>]
    age = <span class="dv">12</span>
    sex = <span class="st">&#39;Male&#39;</span>

    <span class="kw">def</span> haveabirthday(<span class="ot">self</span>, numberofbirthdays=<span class="dv">1</span>):
        <span class="ot">self</span>.age += numberofbirthdays</code></pre>
<p>In the above we have set a default variable:</p>
<pre class="sourceCode python"><code class="sourceCode python">vince = Student()
<span class="kw">print</span> vince.age
vince.haveabirthday()
<span class="kw">print</span> vince.age
vince.haveabirthday(<span class="dv">28</span>)
<span class="kw">print</span> vince.age</code></pre>
<p><a href="http://youtu.be/epYMekhWx2k">Video hint</a></p></li>
<li><p>There are a variety of 'special' methods to be defined on classes. The one we will consider here is the <code>__init__</code> method. This method is run when an instance is created. The following code allows us to pass arguments to an instance of a class when it is <strong>initialised</strong> to set attributes.</p>
<pre class="sourceCode python"><code class="sourceCode python"><span class="kw">class</span> Student():
    <span class="kw">def</span> <span class="ot">__init__</span>(<span class="ot">self</span>, courses, age, sex):
        <span class="ot">self</span>.courses = courses
        <span class="ot">self</span>.age = age
        <span class="ot">self</span>.sex = sex
    <span class="kw">def</span> haveabirthday(<span class="ot">self</span>, numberofbirthdays):
        <span class="ot">self</span>.age += numberofbirthdays

vince = Student([<span class="st">&quot;Biology&quot;</span>,<span class="st">&quot;Math&quot;</span>], <span class="dv">28</span>, <span class="st">&quot;Male&quot;</span>)
<span class="kw">print</span> vince.courses
<span class="kw">print</span> vince.age
<span class="kw">print</span> vince.sex</code></pre></li>
<<<<<<< HEAD
<li><p><strong>TICKABLE</strong> Re visit the Quadratic class from earlier. Use the <code>__init__</code> method and also create a method to return <code>True</code> if the quadratic has real roots.</p>
=======
<li><p><strong>TICKABLE</strong> Revisit the Quadratic class from earlier. Use the <code>__init__</code> method and also create a method to return <code>True</code> if the quadratic has real roots.</p>
>>>>>>> master
<p>Recall that the roots of \(ax^2 + bx + c\) are given by:</p>
<p>\[x=\frac{-b\pm\sqrt{b^2-4ac}}{2a}\]</p>
<p>Using this count how many of the instances in <a href="./Data/W05_D01.txt">W05_D01.csv</a> have real roots.</p></li>
<li><p>The following dictionary contains course code - course name pairs:</p>
<pre class="sourceCode python"><code class="sourceCode python">coursedictionary = {<span class="dv">1</span>: <span class="st">&quot;Math&quot;</span>,
                    <span class="dv">2</span>: <span class="st">&quot;English&quot;</span>,
                    <span class="dv">3</span>: <span class="st">&quot;French&quot;</span>,
                    <span class="dv">4</span>: <span class="st">&quot;Physics&quot;</span>,
                    <span class="dv">5</span>: <span class="st">&quot;PE&quot;</span>,
                    <span class="dv">6</span>: <span class="st">&quot;Biology&quot;</span>,
                    <span class="dv">7</span>: <span class="st">&quot;History&quot;</span>,
                    <span class="dv">8</span>: <span class="st">&quot;Geography&quot;</span>}</code></pre>
<p>The following list contains lists containing a student name as well as a list of the course codes on which they are enrolled:</p>
<pre class="sourceCode python"><code class="sourceCode python">Student_List = [[<span class="st">&quot;Adam&quot;</span>, [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">5</span>]],
                [<span class="st">&quot;Zoe&quot;</span>, [<span class="dv">4</span>, <span class="dv">3</span>, <span class="dv">2</span>]],
                [<span class="st">&quot;Ben&quot;</span>, [<span class="dv">7</span>]],
                [<span class="st">&quot;Thomas&quot;</span>, []],
                [<span class="st">&quot;Meryl&quot;</span>, [<span class="dv">2</span>, <span class="dv">3</span>]],
                [<span class="st">&quot;James&quot;</span>, [<span class="dv">6</span>, <span class="dv">7</span>, <span class="dv">2</span>]],
                [<span class="st">&quot;Leanne&quot;</span>, []],
                [<span class="st">&quot;Angelico&quot;</span>, [<span class="dv">1</span>]],
                [<span class="st">&quot;Izabela&quot;</span>, [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>]],
                [<span class="st">&quot;Lisa&quot;</span>, [<span class="dv">1</span>, <span class="dv">8</span>]],
                [<span class="st">&quot;Penny&quot;</span>, [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>]]]</code></pre>
<p><strong>Using object orientated programming</strong> obtain the number of students enrolled on each course as well as a dictionary containing students as keys and lists of enrolled courses as values.</p></li>
<li><p>If rain drops were to fall <em>randomly</em> on a square of side length \(2r\) the probability of the drops landing in an inscribed circle of radius \(r\) would be given by:</p>
<p>\[P = \frac{\text{Area of circle}}{\text{Area of square}} = \frac{\pi r^2}{4 r^2} = \frac{\pi}{4}\]</p>
<div class="figure">
<img src="./Images/W05-img03.png" alt="" /><p class="caption"></p>
</div>
<p>Thus, if we can approximate \(P\) then we can approximate \(\pi\) as \(4P\). In this question we will write code to approximate \(P\) using the random python library.</p>
<p>First of all, create a class for a rain drop (make sure you understand the code!):</p>
<pre class="sourceCode python"><code class="sourceCode python"><span class="kw">class</span> Drop():
    <span class="kw">def</span> <span class="ot">__init__</span>(<span class="ot">self</span>, r=<span class="dv">1</span>):
        <span class="ot">self</span>.x = (.<span class="dv">5</span> - random.random()) * <span class="dv">2</span> * r
        <span class="ot">self</span>.y = (.<span class="dv">5</span> - random.random()) * <span class="dv">2</span> * r
        <span class="ot">self</span>.incircle = (<span class="ot">self</span>.y) ** <span class="dv">2</span> + (<span class="ot">self</span>.x) ** <span class="dv">2</span> &lt;= (r) ** <span class="dv">2</span></code></pre>
<p>Note that the above uses the following equation for a circle centred at \((0,0)\) of radius \(r\): \[x^2+y^2\leq r^2\].</p>
<p>To approximate \(P\) simply create N=1000 instances of Drops and count the number of those that are in the circle.</p>
<p>Use this to approximate \(\pi\). What happens if you increase N? What value of N seems to give \(\pi\) correct to 3 decimal places?</p>
<p>(This is an example of a technique called Monte Carlo Simulation.)</p></li>
</ol>
<h2 id="inheritance">Inheritance</h2>
<ol start="10" style="list-style-type: decimal">
<li><p><strong>TICKABLE</strong> One final important concept of object orientated programming that we will consider is 'inheritance'. This allows us create hierarchical structures of classes where some classes are derived from others.</p>
<p>Recalling the Student class:</p>
<pre class="sourceCode python"><code class="sourceCode python"><span class="kw">class</span> Student():
    <span class="kw">def</span> <span class="ot">__init__</span>(<span class="ot">self</span>, courses, age, sex):
        <span class="ot">self</span>.courses = courses
        <span class="ot">self</span>.age = age
        <span class="ot">self</span>.sex = sex
    <span class="kw">def</span> haveabirthday(<span class="ot">self</span>, numberofbirthdays=<span class="dv">1</span>):
        <span class="ot">self</span>.age += numberofbirthdays</code></pre>
<p>We can create a new class from the Student class:</p>
<pre class="sourceCode python"><code class="sourceCode python"><span class="kw">class</span> MathStudent(Student):
    favouriteclass = <span class="st">&quot;Mathematics&quot;</span></code></pre>
<p>Instances of this inherited class will inherit attributes and methods from the original class:</p>
<pre class="sourceCode python"><code class="sourceCode python">becky = MathStudent([<span class="st">&#39;Mathematics&#39;</span>, <span class="st">&#39;Biology&#39;</span>], <span class="dv">29</span>, <span class="st">&#39;Female&#39;</span>)
<span class="kw">print</span> becky.courses
<span class="kw">print</span> becky.age
<span class="kw">print</span> becky.favouriteclass
becky.haveabirthday()
<span class="kw">print</span> becky.age</code></pre>
<p>Create another inherited class (from student) giving it a specific method.</p>
<p><a href="http://www.youtube.com/watch?v=cKDWCzCE1y4&amp;feature=youtu.be">Video hint</a></p></li>
</ol>
</body>
</html>
